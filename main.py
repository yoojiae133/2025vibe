import streamlit as st
import random
import streamlit as st

st.set_page_config(page_title="MBTI 학습 성향 분석", page_icon="📘")

st.title("📘 MBTI 기반 학습 성향 분석기")
st.write("아래 질문에 답하면, 당신의 MBTI 성격 유형과 그에 맞는 학습 스타일을 알려드려요!")

# 질문 구성
questions = [
    ("다른 사람들과 함께 있을 때 에너지가 생긴다", "혼자 있을 때 에너지가 충전된다", "E", "I"),
    ("여럿이 떠드는 분위기가 즐겁다", "조용한 대화나 혼자 있는 것이 편하다", "E", "I"),
    ("즉흥적으로 활동 계획을 세운다", "충분히 혼자 생각한 후 계획한다", "E", "I"),
    
    ("사실과 현실 중심으로 정보를 받아들이는 편이다", "직관이나 영감으로 의미를 파악하는 편이다", "S", "N"),
    ("경험을 중시하고 구체적인 예시를 좋아한다", "추상적인 개념과 가능성을 좋아한다", "S", "N"),
    ("실용적이고 눈에 보이는 결과를 선호한다", "새로운 아이디어나 이론적 토론이 좋다", "S", "N"),

    ("객관적 사실과 논리를 우선시한다", "사람의 감정이나 상황을 고려한다", "T", "F"),
    ("갈등보다 사실을 바로잡는 것이 중요하다", "분위기와 감정 조율이 중요하다", "T", "F"),
    ("비판적 사고로 문제를 해결한다", "공감과 이해로 문제를 해결한다", "T", "F"),

    ("계획적으로 일정을 세워 실천한다", "상황에 따라 융통성 있게 움직인다", "J", "P"),
    ("마감일 전 미리미리 끝내는 편이다", "마감이 다가와야 집중이 된다", "J", "P"),
    ("정리되고 예측 가능한 생활이 좋다", "즉흥적이고 자유로운 게 편하다", "J", "P"),
]

mbti_scores = {"E": 0, "I": 0, "S": 0, "N": 0, "T": 0, "F": 0, "J": 0, "P": 0}

# 질문에 답하기
for i, (opt1, opt2, type1, type2) in enumerate(questions):
    choice = st.radio(f"{i+1}.", [opt1, opt2], key=f"q{i}")
    if choice == opt1:
        mbti_scores[type1] += 1
    else:
        mbti_scores[type2] += 1

# 결과 계산
if st.button("📊 내 MBTI 분석하기"):
    mbti = ""
    mbti += "E" if mbti_scores["E"] >= 2 else "I"
    mbti += "S" if mbti_scores["S"] >= 2 else "N"
    mbti += "T" if mbti_scores["T"] >= 2 else "F"
    mbti += "J" if mbti_scores["J"] >= 2 else "P"

    st.subheader(f"당신의 MBTI 유형은 **{mbti}**입니다!")

    # 학습 성향 사전
    learning_styles = {
        "INTJ": "계획적이고 구조화된 학습을 선호합니다. 독립적 탐구에 능하며 스스로 목표를 설정하는 것이 효과적입니다.",
        "INTP": "이론과 개념 탐구를 좋아합니다. 토론보다 글쓰기를 통해 사고를 정리하는 것이 좋습니다.",
        "ENTJ": "논리적 구조와 도전적인 과제를 선호합니다. 토론과 발표를 통한 학습이 효과적입니다.",
        "ENTP": "새로운 아이디어를 교환하는 걸 좋아합니다. 자유로운 환경에서 프로젝트형 학습이 잘 맞습니다.",
        "INFJ": "깊이 있는 이해와 의미를 중시합니다. 조용한 환경에서 정리된 자료를 활용하는 것이 좋습니다.",
        "INFP": "창의적인 글쓰기나 감성적 주제를 좋아합니다. 자기표현을 허용하는 학습 환경이 필요합니다.",
        "ENFJ": "다른 사람과 함께할 때 학습 동기가 올라갑니다. 설명하거나 도와주는 것이 기억에 도움됩니다.",
        "ENFP": "즉흥적이고 다양한 자극을 좋아합니다. 고정된 틀보다는 변화 있는 활동이 효과적입니다.",
        "ISTJ": "체계적이고 정리된 정보를 선호합니다. 계획표를 세워 규칙적으로 학습하는 게 효과적입니다.",
        "ISFJ": "안정적인 환경과 구체적인 예시가 잘 맞습니다. 반복 학습과 복습이 중요합니다.",
        "ESTJ": "실용적인 학습에 강합니다. 성취와 결과가 분명한 과제에서 동기부여됩니다.",
        "ESFJ": "협력적인 분위기에서 학습을 잘합니다. 친구와 함께하는 공부에 적응력이 좋습니다.",
        "ISTP": "혼자서 탐색하며 배우는 것을 선호합니다. 실험이나 문제 해결 기반 활동이 잘 맞습니다.",
        "ISFP": "감각적이고 조용한 환경이 좋습니다. 시각 자료나 창작 활동을 통한 학습이 효과적입니다.",
        "ESTP": "직접 경험하고 체험하는 걸 선호합니다. 활동 중심의 학습이 좋습니다.",
        "ESFP": "재미와 상호작용이 있는 활동을 좋아합니다. 발표, 연극, 게임 기반 학습에 적합합니다.",
    }

    # 결과 출력
    st.markdown("---")
    st.markdown(f"### 📖 학습 성향 분석 결과")
    st.write(learning_styles.get(mbti, "MBTI 유형 분석 결과가 없습니다. 질문 수를 늘려 정밀도를 높여보세요."))


