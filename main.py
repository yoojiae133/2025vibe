import streamlit as st
import random
import streamlit as st

st.set_page_config(page_title="MBTI í•™ìŠµ ì„±í–¥ ë¶„ì„ê¸°", page_icon="ğŸ“˜")

st.title("ğŸ“˜ MBTI ê¸°ë°˜ í•™ìŠµ ì„±í–¥ ë¶„ì„ê¸°")
st.write("ğŸ§  ë‚˜ì—ê²Œ ë§ëŠ” í•™ìŠµ ë°©ë²•ì„ ì°¾ê³  ì‹¶ë‹¤ë©´? ì§€ê¸ˆ ë°”ë¡œ ì•Œì•„ë³´ì„¸ìš”!")

# MBTI ì†Œê°œ
with st.expander("ğŸ“– MBTIë€ ë¬´ì—‡ì¸ê°€ìš”?"):
    st.markdown("""
MBTIëŠ” ì‚¬ëŒì˜ ì„±ê²©ì„ 4ê°€ì§€ ì§€í‘œë¡œ ë‚˜ëˆ„ì–´ ì´ 16ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë¶„ë¥˜í•˜ëŠ” ì„±ê²© ìœ í˜• ê²€ì‚¬ì…ë‹ˆë‹¤. ğŸ˜Š  
- **E / I** : ì—ë„ˆì§€ë¥¼ ì™¸ë¶€ì—ì„œ ì–»ëŠ”ê°€? ë‚´ë¶€ì—ì„œ ì–»ëŠ”ê°€?  
- **S / N** : í˜„ì‹¤ì ì¸ê°€? ì§ê´€ì ì¸ê°€?  
- **T / F** : ë…¼ë¦¬ì ì¸ê°€? ê°ì •ì ì¸ê°€?  
- **J / P** : ê³„íšì ì¸ê°€? ì¦‰í¥ì ì¸ê°€?

ì´ MBTI ì„±í–¥ì„ ë°”íƒ•ìœ¼ë¡œ, ê°ìì—ê²Œ **ê°€ì¥ ì˜ ë§ëŠ” í•™ìŠµ ì „ëµê³¼ ê³µë¶€ ìŠµê´€**ì„ ì œì•ˆí•´ë“œë¦´ê²Œìš”! ğŸ“šâœ¨
""")

# ì§ˆë¬¸ êµ¬ì„±
questions = {
    "EI": [
        ("ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ìƒê¸´ë‹¤", "í˜¼ì ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ì¶©ì „ëœë‹¤"),
        ("ì—¬ëŸ¬ ì¹œêµ¬ë“¤ê³¼ ëŒ€í™”í•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", "í•œë‘ ëª…ê³¼ ê¹Šì´ ìˆëŠ” ëŒ€í™”ê°€ ì¢‹ë‹¤"),
        ("ì¦‰í¥ì ì¸ ì™¸ì¶œì„ ìì£¼ í•œë‹¤", "ì§‘ì—ì„œ í˜¼ì ìˆëŠ” ê²Œ í¸í•˜ë‹¤"),
        ("ì—¬ëŸ¬ ì‚¬ëŒì´ ëª¨ì¸ ìë¦¬ê°€ í¸í•˜ë‹¤", "í˜¼ì¡í•œ í™˜ê²½ì€ í”¼í•˜ê³  ì‹¶ë‹¤"),
        ("ë§ë¡œ í‘œí˜„í•˜ëŠ” ê²Œ ìì—°ìŠ¤ëŸ½ë‹¤", "ê¸€ë¡œ í‘œí˜„í•˜ëŠ” ê²Œ ë” í¸í•˜ë‹¤"),
        ("í™œë™ì ì¸ ëª¨ì„ì´ ì¢‹ë‹¤", "ì°¨ë¶„í•œ ë¶„ìœ„ê¸°ê°€ ì¢‹ë‹¤")
    ],
    "SN": [
        ("ê²½í—˜í•œ ì‚¬ì‹¤ ìœ„ì£¼ë¡œ ì´ì•¼ê¸°í•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", "ìƒìƒì´ë‚˜ ê°€ëŠ¥ì„± ìœ„ì£¼ë¡œ ë§í•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤"),
        ("êµ¬ì²´ì ì¸ ì„¤ëª…ì„ ì„ í˜¸í•œë‹¤", "ì¶”ìƒì ì¸ ê°œë…ë„ ì˜ ì´í•´í•œë‹¤"),
        ("ê¸°ì–µì€ ì‹¤ì œ ìˆì—ˆë˜ ì¼ ìœ„ì£¼ë‹¤", "ë¨¸ë¦¿ì†ìœ¼ë¡œ ë– ì˜¤ë¥¸ ìƒìƒì´ ë§ë‹¤"),
        ("ì§€ê¸ˆ í•  ìˆ˜ ìˆëŠ” ì¼ì´ ì¤‘ìš”í•˜ë‹¤", "ë‚˜ì¤‘ì„ ìœ„í•œ ê°€ëŠ¥ì„±ì´ ì¤‘ìš”í•˜ë‹¤"),
        ("í˜„ì‹¤ì ì¸ ê³„íšì„ ì„¸ìš´ë‹¤", "ì§ê´€ê³¼ ì˜ê°ì„ ë¯¿ëŠ” í¸ì´ë‹¤"),
        ("ë¬¸ì œ í•´ê²° ì‹œ ê²½í—˜ì„ ì°¸ê³ í•œë‹¤", "ìƒˆë¡œìš´ ì ‘ê·¼ë²•ì„ ì°¾ìœ¼ë ¤ í•œë‹¤")
    ],
    "TF": [
        ("ê°ê´€ì ì¸ ì‚¬ì‹¤ë¡œ íŒë‹¨í•œë‹¤", "ê°ì •ê³¼ ìƒí™©ì„ ê³ ë ¤í•´ íŒë‹¨í•œë‹¤"),
        ("ë¹„íŒì„ í•´ë„ ê±°ë¦¬ë‚Œì´ ì—†ë‹¤", "ë¹„íŒë³´ë‹¤ ê¸°ë¶„ì„ ìƒí•˜ì§€ ì•Šê²Œ í•˜ëŠ” ê²Œ ì¤‘ìš”í•˜ë‹¤"),
        ("ë…¼ë¦¬ì ì¸ ê²ƒì´ ì¤‘ìš”í•˜ë‹¤", "ê³µê°ì´ ë” ì¤‘ìš”í•˜ë‹¤"),
        ("ì˜ì‚¬ê²°ì •ì— ë¶„ì„ì„ ì¤‘ì‹œí•œë‹¤", "ì˜ì‚¬ê²°ì •ì— ê°ì •ì„ ê³ ë ¤í•œë‹¤"),
        ("ë¬¸ì œê°€ ìƒê¸°ë©´ ì‚¬ì‹¤ì„ ë¨¼ì € ë³¸ë‹¤", "ë¬¸ì œê°€ ìƒê¸°ë©´ ì‚¬ëŒì˜ ì…ì¥ì„ ë¨¼ì € ë³¸ë‹¤"),
        ("ì›ì¹™ì´ ì¤‘ìš”í•˜ë‹¤", "ì‚¬ëŒ ì‚¬ì´ì˜ ì¡°í™”ê°€ ë” ì¤‘ìš”í•˜ë‹¤")
    ],
    "JP": [
        ("ì¼ì •í‘œëŒ€ë¡œ ê³„íší•˜ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", "ê³„íš ì—†ì´ ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì¸ë‹¤"),
        ("ì¼ì„ ë¯¸ë¦¬ë¯¸ë¦¬ ëë‚´ëŠ” í¸ì´ë‹¤", "ë§ˆê° ì§ì „ê¹Œì§€ ë¯¸ë£¨ëŠ” í¸ì´ë‹¤"),
        ("ì •ë¦¬ì •ëˆì´ ì˜ ëœ ìƒíƒœê°€ ì¢‹ë‹¤", "ì¡°ê¸ˆ ì–´ì§ˆëŸ¬ì ¸ ìˆì–´ë„ ê´œì°®ë‹¤"),
        ("ê³„íšì´ í‹€ì–´ì§€ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ëŠ”ë‹¤", "ê³„íšì´ í‹€ì–´ì ¸ë„ ê´œì°®ë‹¤"),
        ("ì„ íƒì„ ì‰½ê²Œ í•˜ê³  ìœ ì§€í•˜ëŠ” í¸ì´ë‹¤", "ì„ íƒ í›„ì—ë„ ìì£¼ ë°”ê¾¸ëŠ” í¸ì´ë‹¤"),
        ("ë¯¸ë¦¬ ì¤€ë¹„í•´ë‘ëŠ” ê±¸ ì¢‹ì•„í•œë‹¤", "í•„ìš”í•  ë•Œ ë§ì¶°ì„œ ì¤€ë¹„í•˜ëŠ” í¸ì´ë‹¤")
    ]
}

mbti_scores = {k: 0 for k in "EISNTFJP"}

st.subheader("ğŸ“‹ MBTI ìœ í˜• í…ŒìŠ¤íŠ¸ ì‹œì‘!")
for key, pairs in questions.items():
    st.markdown(f"**{key} ë¬¸í•­**")
    for idx, (a, b) in enumerate(pairs):
        choice = st.radio(f"{a} / {b}", [a, b], key=f"{key}_{idx}")
        if choice == a:
            mbti_scores[key[0]] += 1
        else:
            mbti_scores[key[1]] += 1

if st.button("âœ… MBTI ê²°ê³¼ & í•™ìŠµ ì„±í–¥ ë³´ê¸°"):
    mbti = ""
    mbti += "E" if mbti_scores["E"] > mbti_scores["I"] else "I"
    mbti += "S" if mbti_scores["S"] > mbti_scores["N"] else "N"
    mbti += "T" if mbti_scores["T"] > mbti_scores["F"] else "F"
    mbti += "J" if mbti_scores["J"] > mbti_scores["P"] else "P"

    st.success(f"ğŸ¯ ë‹¹ì‹ ì˜ MBTIëŠ” **{mbti}** ì…ë‹ˆë‹¤!")

    from mbti_learning_profiles import learning_styles
    profile = learning_styles.get(mbti)

    if profile:
        st.subheader("ğŸ§  í•™ìŠµ ì„±í–¥ ì„¤ëª…")
        st.write(profile["ì„¤ëª…"])
        st.markdown("### ğŸ“Œ ê³µë¶€ ëŠ¥ë¥ ì„ ë†’ì´ëŠ” íŒ:")
        for tip in profile["í•™ìŠµ íŒ"]:
            st.markdown(f"- {tip}")
    else:
        st.warning("ì´ MBTI ìœ í˜•ì˜ ë¶„ì„ ì •ë³´ê°€ ëˆ„ë½ë˜ì—ˆì–´ìš” ğŸ˜¥")
ã…

